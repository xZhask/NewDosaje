CREATE TABLE comandancia
(
    id_comandancia INT AUTO_INCREMENT,
    comisaria TEXT,
    PRIMARY KEY (id_comandancia)
)ENGINE=INNODB;
CREATE TABLE tipo_documento
(
    id_tipodoc INT AUTO_INCREMENT,
    tipo_doc TEXT,
    PRIMARY KEY (id_tipodoc)
)ENGINE=INNODB;
CREATE TABLE persona
(
    id_persona INT AUTO_INCREMENT,
    id_tipodoc INT,
    nro_doc VARCHAR(10) NOT NULL,
    nombre VARCHAR(40) NOT NULL,
    edad INT NULL,
    lic_conducir VARCHAR(10) NULL,
    sexo CHAR(1) NULL,
    fecha_nac date NULL,
    grado VARCHAR(5) NULL,
    PRIMARY KEY (id_persona),
    FOREIGN KEY (id_tipodoc) REFERENCES tipo_documento(id_tipodoc)
)ENGINE=INNODB;
CREATE TABLE perfil
(
    id_perfil INT AUTO_INCREMENT,
    perfil TEXT,
    PRIMARY KEY (id_perfil)
)ENGINE=INNODB;
CREATE TABLE usuario
(
    id_persona INT,
    pass TEXT,
    profesion CHAR(1),
    id_perfil INT,
estado CHAR(1),
    FOREIGN KEY (id_persona) REFERENCES persona(id_persona),
    FOREIGN KEY (id_perfil) REFERENCES perfil(id_perfil)
)ENGINE=INNODB;

CREATE TABLE infraccion
(
    id_infraccion INT AUTO_INCREMENT,
    hoja_registro VARCHAR(5) NOT NULL,
    Motivo TEXT NULL,
    fecha_infr DATE NOT NULL,
    hora_infr TIME NOT NULL,
    vehiculo VARCHAR(7) NULL,
    clase VARCHAR(7) NULL,
    placa VARCHAR(7) NULL,
    n_oficio INT NOT NULL,
    id_comandancia INT NOT NULL,
    hora_registro DATE NOT NULL,
    fecha_registro TIME NOT NULL,
    infractor INT NOT NULL,
    digitador INT NOT NULL,
    personal_conductor INT NULL,
    lugar_incidencia TEXT NULL,
    n_certificado INT NULL,
    PRIMARY KEY (id_infraccion),
    FOREIGN KEY (id_comandancia) REFERENCES comandancia(id_comandancia),
    FOREIGN KEY (digitador) REFERENCES persona(id_persona),
    FOREIGN KEY (personal_conductor) REFERENCES persona(id_persona),
    FOREIGN KEY (infractor) REFERENCES persona(id_persona)
)ENGINE=INNODB;
CREATE TABLE extraccion
(
    id_extraccion INT AUTO_INCREMENT,
    tipo_muestra CHAR(1) NOT NULL,
    hora_extracc TIME NULL,
    fecha_extracc DATE NULL,
    hrs_transcurridas VARCHAR(5) NULL,
observacion TEXT,
    extractor INT,
    id_infraccion INT,
    PRIMARY KEY (id_extraccion),
    FOREIGN KEY (extractor) REFERENCES persona(id_persona),
    FOREIGN KEY (id_infraccion) REFERENCES infraccion(id_infraccion)
)ENGINE=INNODB;
CREATE TABLE peritaje
(
    id_peritaje INT AUTO_INCREMENT,
    result_cualitativo VARCHAR(5) NULL,
    result_cuantitativo VARCHAR(5) NULL,
    perito INT NULL,
    id_infraccion INT,
    PRIMARY KEY (id_peritaje),
    FOREIGN KEY (perito) REFERENCES persona(id_persona),
    FOREIGN KEY (id_infraccion) REFERENCES infraccion(id_infraccion)
)ENGINE=INNODB;

/* inserciones */
INSERT INTO perfil(perfil) VALUES ('ADMINISTRADOR'),('DIGITADOR');

INSERT INTO comandancia(comisaria) VALUES
('COMISARÍA PNP. BAYOVAR-DIVPOL ESTE 1'),
('COMISARÍA PNP. CAJA DE AGUA-DIVPOL ESTE 1'),
('COMISARÍA PNP. CANTO REY-DIVPOL ESTE 1'),
('COMISARÍA PNP. LA HUAYRONA-DIVPOL ESTE 1'),
('COMISARÍA PNP. MARISCAL CÁCERES-DIVPOL ESTE 1'),
('COMISARIA PNP. SAN ANTONIO DE JICAMARCA-DIVPOL ESTE 1'),
('COMISARÍA PNP. SANTA ELIZABETH-DIVPOL ESTE 1'),
('COMISARÍA PNP. ZARATE-DIVPOL ESTE 1'),
('COMISARÍA PNP. 10 DE OCTUBRE-DIVPOL ESTE 1'),
('COMISARÍA PNP. EL AGUSTINO-DIVPOL CENTRO'),
('COMISARÍA PNP. SAN CAYETANO-DIVPOL CENTRO'),
('COMISARÍA PNP. SANTOYO-DIVPOL CENTRO'),
('COMISARÍA PNP. VILLA HERMOSA-DIVPOL CENTRO'),
('COMISARIA PNP. CARABAYLLO-DIVPOL NORTE 1'),
('COMISARIA PNP. EL PROGRESO-DIVPOL NORTE 1'),
('COMISARIA PNP. SANTA ISABEL-DIVPOL NORTE 1'),
('COMISARIA PNP. SOL DE ORO-DIVPOL NORTE 1'),
('COMISARIA PNP. CANTA-DIVPOL NORTE 2'),
('COMISARIA PNP. LA PASCANA-DIVPOL NORTE 2'),
('COMISARIA PNP. LA UNIFICADA-DIVPOL NORTE 2'),
('COMISARIA PNP. PAYET-DIVPOL NORTE 2'),
('COMISARIA PNP. SANTA LUZMILA-DIVPOL NORTE 2'),
('COMISARIA PNP. TAHUANTINSUYO-DIVPOL NORTE 2'),
('COMISARIA PNP. TUPAC AMARU - COMAS-DIVPOL NORTE 2'),
('COMISARIA PNP. UNIVERSITARIA-DIVPOL NORTE 2'),
('COMISARIA PNP. YANGAS-DIVPOL NORTE 2'),
('COMISARIA PNP. BARBONCITO-DIVPOL NORTE 3'),
('COMISARIA PNP. CIUDAD Y CAMPO-DIVPOL NORTE 3'),
('COMISARIA PNP. EL MANZANO-DIVPOL NORTE 3'),
('COMISARIA PNP. FLOR DE AMANCAES-DIVPOL NORTE 3'),
('COMISARIA PNP. PIEDRA LIZA-DIVPOL NORTE 3'),
('COMISARIA PNP. RIMAC-DIVPOL NORTE 3'),
('COMISARIA PNP. SAN MARTIN DE PORRES-DIVPOL NORTE 3'),
('COMISARIA PNP. COLLIQUE-DIVPOL NORTE 2'),
('COMISARIA PNP . CHACLACAYO'),
('COMISARIA PNP . INDEPENDENCIA-DIVPOL NORTE 2'),
('INVERSIONES BRADE S.A'),
('COMISARIA PNP HUACHIPA'),
('COMISARIA PNP CHOSICA'),
('CORPORACION PERUANA DE PRODUCTOS QUIMICOS  S.A.'),
('COMISARIA PNP PRO - DIVPOL NORTE 1'),
('COMISARIA PNP ANCON - DIVPOL NORTE 1'),
('COMISARIA PNP LAURA CALLER - DIVPOL NORTE 1'),
('COMISARIA PNP PUENTE PIEDRA - DIVPOL NORTE 1'),
('COMISARIA PNP CONDEVILLA SEÑOR - DVPOL NORTE 3'),
('COMISARIA PNP ZAPALLAL - DIVPOL NORTE 1'),
('ESCUELA DE OFICIALES PNP PUENTE PIEDRA'),
('UIAT-NORTE'),
('DIRECCION NACIONAL DE OPERACIONES ESPECIALES'),
('COMISARIA PNP CHACRA COLORADA'),
('COMISARIA PNP PETIT THOUARS'),
('COMISARIA PNP COTABAMBA');

INSERT INTO tipo_documento(tipo_doc) VALUES
('DNI'),
('Carnet de Extranjería'),
('Cédula de Identidad'),
('CPP'),
('SIDPOL'),
('Licencia')